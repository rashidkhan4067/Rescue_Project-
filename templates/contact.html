{% extends "base.html" %}
{% block title %}Contact & Support - Rescue{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section contact-hero">
    <div class="hero-background">
        <div class="hero-overlay"></div>
        <div class="hero-particles"></div>
    </div>
    <div class="container">
        <div class="hero-content" data-aos="fade-up">
            <div class="hero-badge">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                </svg>
                <span>24/7 Support</span>
            </div>
            <h1 class="hero-title">Get in Touch</h1>
            <p class="hero-subtitle">We're here to help you reunite families and save lives. Reach out anytime for support, questions, or emergency assistance.</p>
        </div>
    </div>
</section>

<!-- Contact Methods Section -->
<section class="contact-methods-section">
    <div class="container">
        <div class="contact-methods-grid" data-aos="fade-up" data-aos-delay="200">
            <div class="contact-method-card emergency">
                <div class="method-header">
                    <div class="method-icon emergency">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                    </div>
                    <div class="method-badge">URGENT</div>
                </div>
                <h3>Emergency Hotline</h3>
                <p>For immediate assistance with missing persons or urgent situations</p>
                <div class="contact-actions">
                    <a href="tel:15" class="contact-btn primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                        </svg>
                        Call 15 Now
                    </a>
                </div>
                <small class="availability">Available 24/7</small>
            </div>

            <div class="contact-method-card">
                <div class="method-header">
                    <div class="method-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                            <polyline points="22 6 12 13 2 6"></polyline>
                        </svg>
                    </div>
                </div>
                <h3>Email Support</h3>
                <p>Send us detailed information about your case or questions</p>
                <div class="contact-actions">
                    <a href="mailto:support@rescue.com" class="contact-btn secondary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                            <polyline points="22 6 12 13 2 6"></polyline>
                        </svg>
                        Send Email
                    </a>
                    <button class="contact-btn tertiary" onclick="copyEmail()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Copy
                    </button>
                </div>
                <small class="availability">Response within 2 hours</small>
            </div>

            <div class="contact-method-card">
                <div class="method-header">
                    <div class="method-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                        </svg>
                    </div>
                </div>
                <h3>Phone Support</h3>
                <p>Speak directly with our support team for assistance</p>
                <div class="contact-actions">
                    <a href="tel:+18007372831" class="contact-btn secondary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                        </svg>
                        Call Now
                    </a>
                    <button class="contact-btn tertiary" onclick="copyPhone()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Copy
                    </button>
                </div>
                <small class="availability">Mon-Fri 8AM-8PM</small>
            </div>

            <div class="contact-method-card">
                <div class="method-header">
                    <div class="method-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                    </div>
                </div>
                <h3>Live Chat</h3>
                <p>Get instant help through our AI-powered chat assistant</p>
                <div class="contact-actions">
                    <button class="contact-btn secondary" onclick="openChatbot()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        Start Chat
                    </button>
                </div>
                <small class="availability">Instant response</small>
            </div>
        </div>
    </div>
</section>

<!-- Quick Contact Form Section -->
<section class="quick-contact-section">
    <div class="container">
        <div class="quick-contact-container" data-aos="fade-up" data-aos-delay="400">
            <div class="quick-contact-header">
                <h2>Quick Contact Form</h2>
                <p>Send us a message and we'll get back to you as soon as possible</p>
            </div>

            <form class="quick-contact-form" id="quickContactForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="contactName">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            Full Name *
                        </label>
                        <input type="text" id="contactName" name="name" class="form-control" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="contactEmail">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                <polyline points="22 6 12 13 2 6"></polyline>
                            </svg>
                            Email Address *
                        </label>
                        <input type="email" id="contactEmail" name="email" class="form-control" placeholder="Enter your email address" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="contactPhone">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                            </svg>
                            Phone Number
                        </label>
                        <input type="tel" id="contactPhone" name="phone" class="form-control" placeholder="Enter your phone number">
                    </div>
                    <div class="form-group">
                        <label for="contactSubject">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                            </svg>
                            Subject *
                        </label>
                        <select id="contactSubject" name="subject" class="form-control" required>
                            <option value="">Select a subject</option>
                            <option value="missing_person">Missing Person Report</option>
                            <option value="sighting">Sighting Report</option>
                            <option value="technical_support">Technical Support</option>
                            <option value="general_inquiry">General Inquiry</option>
                            <option value="feedback">Feedback</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-group full-width">
                    <label for="contactMessage">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        Message *
                    </label>
                    <textarea id="contactMessage" name="message" class="form-control" rows="5" placeholder="Please provide details about your inquiry..." required></textarea>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-primary" id="submitContactForm">
                        <span class="submit-text">Send Message</span>
                        <span class="submit-loading" style="display: none;">
                            <svg class="spinner" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 12a9 9 0 11-6.219-8.56"/>
                            </svg>
                            Sending...
                        </span>
                        <svg class="submit-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                        </svg>
                    </button>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- Office Information Section -->
<section class="office-info-section">
    <div class="container">
        <div class="office-info-grid" data-aos="fade-up" data-aos-delay="600">
            <div class="office-card">
                <div class="office-header">
                    <div class="office-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                    </div>
                    <h3>Main Office</h3>
                </div>
                <div class="office-details">
                    <p><strong>Address:</strong><br>123 Hope Street<br>Rescue City, RC 12345</p>
                    <p><strong>Hours:</strong><br>Monday - Friday: 8:00 AM - 8:00 PM<br>Saturday: 9:00 AM - 5:00 PM<br>Sunday: Emergency only</p>
                </div>
                <div class="office-actions">
                    <button class="office-btn" onclick="openMaps()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                        Get Directions
                    </button>
                </div>
            </div>

            <div class="office-card">
                <div class="office-header">
                    <div class="office-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M12 6v6l4 2"></path>
                        </svg>
                    </div>
                    <h3>Response Times</h3>
                </div>
                <div class="office-details">
                    <p><strong>Emergency:</strong> Immediate response</p>
                    <p><strong>Phone:</strong> Within 5 minutes</p>
                    <p><strong>Email:</strong> Within 2 hours</p>
                    <p><strong>Chat:</strong> Instant response</p>
                </div>
            </div>

            <div class="office-card">
                <div class="office-header">
                    <div class="office-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 11H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h4l3 3V8l-3 3z"></path>
                            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
                        </svg>
                    </div>
                    <h3>Languages</h3>
                </div>
                <div class="office-details">
                    <p><strong>Available in:</strong></p>
                    <ul>
                        <li>English</li>
                        <li>Spanish</li>
                        <li>French</li>
                        <li>Arabic</li>
                        <li>Urdu</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Premium Styling -->
<style>
/* Contact Hero Section */
.contact-hero {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    min-height: 60vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
    transition: background 0.3s ease;
}

.dark-theme .contact-hero {
    background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
}

/* Contact hero overlay for better text contrast */
.contact-hero .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
    transition: background 0.3s ease;
}

.dark-theme .contact-hero .hero-overlay {
    background: rgba(0, 0, 0, 0.5);
}

.contact-hero .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%"><stop offset="0%" stop-color="%23ffffff" stop-opacity="0.1"/><stop offset="100%" stop-color="%23ffffff" stop-opacity="0"/></radialGradient></defs><circle cx="200" cy="300" r="120" fill="url(%23a)"/><circle cx="800" cy="200" r="100" fill="url(%23a)"/><circle cx="400" cy="800" r="150" fill="url(%23a)"/></svg>');
}

.contact-hero .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
}

.contact-hero .hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    color: white;
}

.contact-hero .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    padding: 0.5rem 1rem;
    border-radius: 50px;
    font-size: 0.9rem;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
}

.dark-theme .contact-hero .hero-badge {
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(15px);
}

.contact-hero .hero-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.contact-hero .hero-subtitle {
    font-size: 1.3rem;
    opacity: 0.9;
    max-width: 700px;
    margin: 0 auto;
    line-height: 1.6;
}

/* Contact Methods Section */
.contact-methods-section {
    padding: 4rem 0;
    background: var(--bg-secondary);
}

.dark-theme .contact-methods-section {
    background: var(--bg-secondary);
}

.contact-methods-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.contact-method-card {
    background: var(--bg-primary);
    border-radius: 20px;
    padding: 2.5rem;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.dark-theme .contact-method-card {
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

.contact-method-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
}

.contact-method-card.emergency {
    border-left: 6px solid #dc2626;
    background: linear-gradient(135deg, #fef2f2 0%, #ffffff 100%);
    transition: all 0.3s ease;
}

.dark-theme .contact-method-card.emergency {
    border-left: 6px solid #ef4444;
    background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
}

.method-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1.5rem;
}

.method-icon {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    padding: 1rem;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.method-icon.emergency {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    animation: emergencyPulse 2s infinite;
    transition: background 0.3s ease;
}

.dark-theme .method-icon.emergency {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
}

@keyframes emergencyPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.method-badge {
    background: #dc2626;
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.contact-method-card h3 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.75rem;
}

.contact-method-card p {
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.contact-actions {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.contact-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    text-decoration: none;
    font-size: 0.9rem;
}

.contact-btn.primary {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    color: white;
    flex: 1;
}

.contact-btn.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(220, 38, 38, 0.3);
}

.contact-btn.secondary {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    flex: 1;
}

.contact-btn.secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
}

.contact-btn.tertiary {
    background: #f1f5f9;
    color: #475569;
    border: 1px solid #d1d5db;
}

.contact-btn.tertiary:hover {
    background: #e2e8f0;
    transform: translateY(-2px);
}

.availability {
    color: #64748b;
    font-size: 0.85rem;
    font-style: italic;
}

/* Quick Contact Section */
.quick-contact-section {
    padding: 4rem 0;
    background: white;
}

.quick-contact-container {
    max-width: 800px;
    margin: 0 auto;
    background: #f8fafc;
    border-radius: 20px;
    padding: 3rem;
    box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid #e2e8f0;
}

.quick-contact-header {
    text-align: center;
    margin-bottom: 3rem;
}

.quick-contact-header h2 {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1a202c;
    margin-bottom: 0.5rem;
}

.quick-contact-header p {
    font-size: 1.1rem;
    color: #64748b;
}

.quick-contact-form {
    background: white;
    border-radius: 16px;
    padding: 2.5rem;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.form-group {
    display: flex;
    flex-direction: column;
}

.form-group.full-width {
    grid-column: 1 / -1;
}

.form-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    color: #374151;
    margin-bottom: 0.75rem;
    font-size: 0.95rem;
}

.form-control {
    padding: 1rem;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    font-size: 1rem;
    transition: all 0.3s ease;
    background: #f8fafc;
}

.form-control:focus {
    outline: none;
    border-color: #10b981;
    background: white;
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

.form-control::placeholder {
    color: #9ca3af;
}

textarea.form-control {
    resize: vertical;
    min-height: 120px;
    font-family: inherit;
    line-height: 1.6;
}

.form-actions {
    display: flex;
    justify-content: center;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #e2e8f0;
}

.btn-primary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 2rem;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    border: none;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1rem;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
}

.btn-primary:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none;
}

.spinner {
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Office Info Section */
.office-info-section {
    padding: 4rem 0;
    background: #f8fafc;
}

.office-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.office-card {
    background: white;
    border-radius: 20px;
    padding: 2.5rem;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid #e2e8f0;
    transition: all 0.3s ease;
}

.office-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

.office-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.office-icon {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    padding: 0.75rem;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.office-header h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a202c;
    margin: 0;
}

.office-details {
    margin-bottom: 1.5rem;
}

.office-details p {
    color: #64748b;
    line-height: 1.6;
    margin-bottom: 1rem;
}

.office-details ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.office-details li {
    color: #64748b;
    padding: 0.25rem 0;
    position: relative;
    padding-left: 1rem;
}

.office-details li::before {
    content: 'â€¢';
    color: #10b981;
    font-weight: bold;
    position: absolute;
    left: 0;
}

.office-actions {
    display: flex;
    gap: 0.75rem;
}

.office-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    border: none;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.office-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
}

/* Responsive Design */
@media (max-width: 768px) {
    .contact-hero .hero-title {
        font-size: 2.5rem;
    }

    .contact-hero .hero-subtitle {
        font-size: 1.1rem;
    }

    .contact-methods-grid {
        grid-template-columns: 1fr;
    }

    .quick-contact-container {
        padding: 2rem;
    }

    .quick-contact-form {
        padding: 2rem;
    }

    .form-row {
        grid-template-columns: 1fr;
    }

    .contact-actions {
        flex-direction: column;
    }

    .office-info-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<!-- Advanced JavaScript Functionality -->
<script>
class PremiumContactSystem {
    constructor() {
        this.form = document.getElementById('quickContactForm');
        this.submitBtn = document.getElementById('submitContactForm');

        this.initializeEventListeners();
        this.initializeFormValidation();
    }

    initializeEventListeners() {
        // Form submission
        if (this.form) {
            this.form.addEventListener('submit', (e) => {
                this.handleFormSubmission(e);
            });
        }

        // Real-time validation
        const inputs = this.form?.querySelectorAll('input, textarea, select');
        inputs?.forEach(input => {
            input.addEventListener('blur', () => {
                this.validateField(input);
            });

            input.addEventListener('input', () => {
                this.clearValidationError(input);
            });
        });
    }

    initializeFormValidation() {
        // Add visual feedback for required fields
        const requiredFields = this.form?.querySelectorAll('[required]');
        requiredFields?.forEach(field => {
            const label = field.closest('.form-group')?.querySelector('label');
            if (label && !label.textContent.includes('*')) {
                label.innerHTML = label.innerHTML.replace(/(\w+)$/, '$1 *');
            }
        });
    }

    validateField(field) {
        const value = field.value.trim();
        let isValid = true;
        let errorMessage = '';

        if (field.hasAttribute('required') && !value) {
            isValid = false;
            errorMessage = 'This field is required';
        } else if (field.type === 'email' && value && !this.isValidEmail(value)) {
            isValid = false;
            errorMessage = 'Please enter a valid email address';
        } else if (field.type === 'tel' && value && !this.isValidPhone(value)) {
            isValid = false;
            errorMessage = 'Please enter a valid phone number';
        }

        this.showValidationResult(field, isValid, errorMessage);
        return isValid;
    }

    showValidationResult(field, isValid, errorMessage) {
        const formGroup = field.closest('.form-group');
        if (!formGroup) return;

        // Remove existing validation messages
        const existingMessage = formGroup.querySelector('.validation-message');
        if (existingMessage) {
            existingMessage.remove();
        }

        if (!isValid && errorMessage) {
            const messageEl = document.createElement('div');
            messageEl.className = 'validation-message error';
            messageEl.style.cssText = `
                margin-top: 0.5rem;
                padding: 0.5rem;
                background: #fef2f2;
                color: #dc2626;
                border: 1px solid #fecaca;
                border-radius: 6px;
                font-size: 0.85rem;
            `;
            messageEl.textContent = errorMessage;

            field.after(messageEl);
            field.style.borderColor = '#dc2626';
        } else {
            field.style.borderColor = '';
        }
    }

    clearValidationError(field) {
        const formGroup = field.closest('.form-group');
        if (!formGroup) return;

        const errorMessage = formGroup.querySelector('.validation-message.error');
        if (errorMessage) {
            errorMessage.remove();
        }

        field.style.borderColor = '';
    }

    handleFormSubmission(e) {
        e.preventDefault();

        // Validate all fields
        const inputs = this.form.querySelectorAll('input, textarea, select');
        let isFormValid = true;

        inputs.forEach(input => {
            if (!this.validateField(input)) {
                isFormValid = false;
            }
        });

        if (!isFormValid) {
            this.showNotification('Please fix the errors before submitting', 'error');
            return;
        }

        // Show loading state
        this.setSubmitButtonLoading(true);

        // Simulate form submission (replace with actual submission)
        setTimeout(() => {
            this.setSubmitButtonLoading(false);
            this.showNotification('Thank you for contacting us! We\'ll get back to you soon.', 'success');

            // Reset form after successful submission
            setTimeout(() => {
                this.form.reset();
            }, 2000);
        }, 2000);
    }

    setSubmitButtonLoading(loading) {
        if (!this.submitBtn) return;

        const submitText = this.submitBtn.querySelector('.submit-text');
        const submitLoading = this.submitBtn.querySelector('.submit-loading');
        const submitIcon = this.submitBtn.querySelector('.submit-icon');

        if (loading) {
            submitText.style.display = 'none';
            submitIcon.style.display = 'none';
            submitLoading.style.display = 'flex';
            this.submitBtn.disabled = true;
        } else {
            submitText.style.display = 'block';
            submitIcon.style.display = 'block';
            submitLoading.style.display = 'none';
            this.submitBtn.disabled = false;
        }
    }

    isValidEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }

    isValidPhone(phone) {
        const phoneRegex = /^[\+]?[1-9][\d]{0,15}$/;
        return phoneRegex.test(phone.replace(/[\s\-\(\)]/g, ''));
    }

    showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `contact-notification contact-${type}`;
        notification.textContent = message;

        const colors = {
            success: '#10b981',
            error: '#dc2626',
            info: '#3b82f6',
            warning: '#f59e0b'
        };

        notification.style.cssText = `
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: ${colors[type] || colors.info};
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 350px;
            font-weight: 500;
        `;

        document.body.appendChild(notification);

        // Animate in
        setTimeout(() => {
            notification.style.transform = 'translateX(0)';
        }, 100);

        // Remove after delay
        setTimeout(() => {
            notification.style.transform = 'translateX(100%)';
            setTimeout(() => notification.remove(), 300);
        }, 5000);
    }
}

// Global functions for contact actions
function copyEmail() {
    const email = 'support@rescue.com';
    navigator.clipboard.writeText(email).then(() => {
        window.contactSystem?.showNotification('Email address copied to clipboard!', 'success');
    }).catch(() => {
        prompt('Copy this email address:', email);
    });
}

function copyPhone() {
    const phone = '+1-800-RESCUE1';
    navigator.clipboard.writeText(phone).then(() => {
        window.contactSystem?.showNotification('Phone number copied to clipboard!', 'success');
    }).catch(() => {
        prompt('Copy this phone number:', phone);
    });
}

function openChatbot() {
    // Redirect to chatbot page
    window.location.href = '/chatbot';
}

function openMaps() {
    const address = '123 Hope Street, Rescue City, RC 12345';
    const mapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address)}`;
    window.open(mapsUrl, '_blank');
}

// Theme support functions
function updateTheme() {
    updateContactTheme();
}

function updateContactTheme() {
    const isDark = document.body.classList.contains('dark-theme');
    const methodCards = document.querySelectorAll('.contact-method-card');
    const quickContactContainer = document.querySelector('.quick-contact-container');
    const contactHero = document.querySelector('.contact-hero');
    const heroOverlay = document.querySelector('.contact-hero .hero-overlay');
    const heroBadge = document.querySelector('.contact-hero .hero-badge');
    const emergencyCard = document.querySelector('.contact-method-card.emergency');
    const emergencyIcon = document.querySelector('.method-icon.emergency');

    if (isDark) {
        methodCards.forEach(card => card.classList.add('dark-theme'));
        quickContactContainer?.classList.add('dark-theme');
        contactHero?.classList.add('dark-theme');
        heroOverlay?.classList.add('dark-theme');
        heroBadge?.classList.add('dark-theme');
        emergencyCard?.classList.add('dark-theme');
        emergencyIcon?.classList.add('dark-theme');
    } else {
        methodCards.forEach(card => card.classList.remove('dark-theme'));
        quickContactContainer?.classList.remove('dark-theme');
        contactHero?.classList.remove('dark-theme');
        heroOverlay?.classList.remove('dark-theme');
        heroBadge?.classList.remove('dark-theme');
        emergencyCard?.classList.remove('dark-theme');
        emergencyIcon?.classList.remove('dark-theme');
    }
}

// Initialize the contact system when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    window.contactSystem = new PremiumContactSystem();

    // Initialize theme support
    updateContactTheme();

    // Listen for theme changes
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                updateContactTheme();
            }
        });
    });

    observer.observe(document.body, {
        attributes: true,
        attributeFilter: ['class']
    });

    // Initialize AOS animations if available
    if (typeof AOS !== 'undefined') {
        AOS.init({
            duration: 800,
            easing: 'ease-out-cubic',
            once: true
        });
    }
});
</script>

{% endblock %}